var $object={clone:function(b,a){if(arguments.length){var c=$object.describe.apply(null,arguments);if(c.hasOwnProperty("constructor")){var d=c.constructor.value;if("string"==typeof d){var f=d,d=c.constructor.value=function(){return this.applySuper(arguments)};d.typeName=f}else d.typeName||(d.typeName=d.name||this.constructor.typeName+"_clone");d.prototype=this}}return Object.create(this,c)},create:function(b,a){var c=this.clone();return c.constructor.apply(c,arguments)||c},constructor:function CloneObject(a,
c){a&&this.defineProperties(a,c);this.constructor===CloneObject&&this.seal()},describe:function(b,a){var c={},d=a?a:{configurable:!0,enumerable:!0,writable:!0},f=!(a&&a.enumerable),e;for(e in b){var h=b[e],g=Object.create(d);if("("==e[0]){var i=e.match(/^\((((get|set|const|hidden|final|writable) *)+)\) +(.+)$/);if(i){var k=i[1].split(" ").sort();e=i[4];c[e]&&(g=c[e]);for(var j in k)switch(k[j]){case "const":g.writable=!1;break;case "final":g.configurable=!1;g.writable=!1;break;case "get":g.get=h;
break;case "hidden":g.enumerable=!1;break;case "set":g.set=h;break;case "writable":g.writable=!0}}}if(g.get||g.set){if("string"==typeof h){var l=h;"string"==typeof g.get?g.get=function(){return this[l]}:g.set=function(a){this[l]=a}}g.value=void 0;g.get&&(h=void 0)}else g.value=h;if(f&&"function"==typeof h||"_"==e[0])g.enumerable=!1;c[e]=g}return c},applySuper:function(b,a){"string"!=typeof b&&(b instanceof Array&&(a=b),b="constructor");"__super__"in this||this.defineProperty("__super__",{value:Object.getPrototypeOf(Object.getPrototypeOf(this)),
writable:!0,configurable:!0});var c=this.__super__;this.__super__=Object.getPrototypeOf(c);var d=c[b].apply(this,a);this.__super__=c;return d},callSuper:function(b,a,c){var d=Array.prototype.slice.call(arguments,1);return this.applySuper(b,d)},createSuperSafeCallback:function(b,a){if("string"==typeof b){var c=this[b];"undefined"==typeof a&&(a=this)}else c=b;var d=this,f=this.__super__;return function(){if(d.__super__===f)return c.apply(a||this,arguments);var b=d.__super__;d.__super__=f;var h=c.apply(a||
this,arguments);d.__super__=b;return h}},getState:function(b){for(var a=$object.create(),b=b?Object.getOwnPropertyNames(this):Object.keys(this),c=0;c<b.length;c++){var d=b[c];a[d]=this[d]}return a},copy:function(b,a,c,d){for(var f=0,e=arguments[f];f<arguments.length;e=arguments[++f])switch(typeof e){case "string":b=e;break;case "function":a=e.prototype;break;case "object":a=e;break;case "number":c=e;break;case "boolean":d=e}if("deepCopy"!=b||"deepClone"!=b)b=null;"undefined"==typeof a&&(a=$object);
e=this;"function"==typeof e&&Object.getOwnPropertyNames(e.prototype)&&(e=e.prototype);var h=Object.create(a),g=[];do g.push(e),e=Object.getPrototypeOf(e);while(c--&&e!=Object.prototype);g=g.reverse();for(f=0;f<g.length;f++){var e=g[f],i=Object.getOwnPropertyNames(e);!d&&(f&&i.length)&&(h=$object.apply(h,"clone"));for(var k=0;k<i.length;k++){var j=i[k],l=Object.getOwnPropertyDescriptor(e,j);b&&("object"==typeof e[j]&&null!==e[j])&&(l.value=$object[b].call(e[j]));Object.defineProperty(h,j,l)}}return h},
deepCopy:function deepCopy(){for(var a=arguments.length?$object.apply(this,"copy",arguments):$object.clone(),c=Object.getOwnPropertyNames(this),d=0;d<c.length;d++){var f=c[d],e=Object.getOwnPropertyDescriptor(this,f);"object"==typeof this[f]&&null!==this[f]&&(e.value=deepCopy.call(this[f]));Object.defineProperty(a,f,e)}return a},deepClone:function deepClone(a,c){for(var d=$object.apply(this,"clone",arguments),f=Object.getOwnPropertyNames(this),e=0;e<f.length;e++){var h=f[e];if("object"==typeof this[h]&&
null!==this[h]){var g=Object.getOwnPropertyDescriptor(this,h);g.value=deepClone.call(this[h]);Object.defineProperty(d,h,g)}}return d},paste:function(b,a){return $object.apply(b,"concat",[this,a])},concat:function(b,a){if(void 0==a)a=b.getOwnPropertyNames();else if("object"!=typeof a&&!0==a)for(var a=b.getOwnPropertyNames(),c=b;(c=Object.getPrototypeOf(c))!==Object.prototype;)a=a.concat(c.getOwnPropertyNames());c=b;do for(var d=0;d<a.length;d++){var f=a[d],e=Object.getOwnPropertyDescriptor(c,f);e&&
(Object.defineProperty(this,f,e),delete a[d])}while(a.length&&(c=Object.getPrototypeOf(c))!==Object.prototype);return this},apply:function(b,a,c,d){d?"function"==typeof d&&d.prototype&&(d=d.prototype):d="function"==typeof b[a]&&b[a].length==$object[a].length&&b||$object;return d[a].apply(b,c)},can:function(b,a){var c=this;return{valueOf:function(){return a^"function"==typeof c[b]},like:function(d){d=d[b];return this.valueOf()&&a^("function"==typeof d&&d.length==c[b].length)},as:function(d){return this.valueOf()&&
a^c[b]===d[b]}}},cant:function(b){return this.can(b,1)},getPrototypes:function(b,a){var c=[],d=this,f=a?"push":"unshift";for("undefined"==typeof b&&(b=$object);(d=Object.getPrototypeOf(d))!=b;)c[f](d);return c},getPrototype:function(){return Object.getPrototypeOf(this)},getEnumerableOwnPropertyNames:function(){return Object.keys(this)},getOwnPropertyNames:function(){return Object.getOwnPropertyNames(this)},preventExtensions:function(){return Object.preventExtensions(this)},isExtensible:function(){return Object.isExtensible(this)},
seal:function(){return Object.seal(this)},isSealed:function(){return Object.isSealed(this)},freeze:function(){return Object.freeze(this)},isFrozen:function(){return Object.isFrozen(this)},getOwnPropertyDescriptor:function(b){return Object.getOwnPropertyDescriptor(this,b)},defineProperties:function(b,a){return Object.defineProperties(this,$object.describe.apply(null,arguments))},defineProperty:function(b,a){return Object.defineProperty(this,b,a)}};$object.defineProperties($object);
var ns={prototype:$object,extend:function extend(a,c,d){if(0<a.indexOf(".")){var f=this,e=a.split("."),a=e.pop();e.forEach(function(a){a in f||f.extend(a);f=f[a]})}e=a[0].toUpperCase()+a.substr(1);c.hasOwnProperty("constructor")||(c.constructor=e);c=$object.isPrototypeOf(c)?c:this.prototype.clone(c,d);c.constructor.typeName=e;d={prototype:c,extend:extend};this["$"+a]=c;return this[a]=d},put:function(b){var a=this,c=b.getPrototypes();c.push(b);c.forEach(function(c){var b=c.constructor.typeName||c.constructor.name,
b=b[0].toLowerCase()+b.substr(1);b in a||a.extend(b,c);a=a[b]});return a}};"undefined"!=typeof module&&module.exports&&(module.exports=ns);
