var $object={clone:function(b,a){if(arguments.length){var d=$object.describe.apply(null,arguments);if(d.hasOwnProperty("constructor")){var c=d.constructor.value;if("string"==typeof c){var e=c,c=d.constructor.value=function(){return this.applySuper(arguments)};c.typeName=e}else c.typeName||(c.typeName=c.name||this.constructor.typeName+"_clone");c.prototype=this}}return Object.create(this,d)},create:function(b,a){var d=this.clone();return d.constructor.apply(d,arguments)||d},constructor:function Object$(a,
d){a&&this.defineProperties(a,d);this.constructor===Object$&&this.seal()},describe:function(b,a){var d={},c=a?a:{configurable:!0,enumerable:!0,writable:!0},e=!(a&&a.enumerable),f;for(f in b){var h=b[f],g=Object.create(c);if("("==f[0]){var i=f.match(/^\((((get|set|const|hidden|final|writable) *)+)\) +(.+)$/);if(i){var k=i[1].split(" ").sort();f=i[4];d[f]&&(g=d[f]);for(var j in k)switch(k[j]){case "const":g.writable=!1;break;case "final":g.configurable=!1;g.writable=!1;break;case "get":g.get=h;break;
case "hidden":g.enumerable=!1;break;case "set":g.set=h;break;case "writable":g.writable=!0}}}if(g.get||g.set){if("string"==typeof h){var l=h;"string"==typeof g.get?g.get=function(){return this[l]}:g.set=function(a){this[l]=a}}g.value=void 0;g.get&&(h=void 0)}else g.value=h;if(e&&"function"==typeof h||"_"==f[0])g.enumerable=!1;d[f]=g}return d},applySuper:function(b,a){"string"!=typeof b&&(b instanceof Array&&(a=b),b="constructor");"__super__"in this||this.defineProperty("__super__",{value:Object.getPrototypeOf(Object.getPrototypeOf(this)),
writable:!0,configurable:!0});var d=this.__super__;this.__super__=Object.getPrototypeOf(d);var c=d[b].apply(this,a);this.__super__=d;return c},callSuper:function(b,a,d){var c=Array.prototype.slice.call(arguments,1);return this.applySuper(b,c)},createSuperSafeCallback:function(b,a){if("string"==typeof b){var d=this[b];"undefined"==typeof a&&(a=this)}else d=b;var c=this,e=this.__super__;return function(){if(c.__super__===e)return d.apply(a||this,arguments);var b=c.__super__;c.__super__=e;var h=d.apply(a||
this,arguments);c.__super__=b;return h}},getState:function(b){for(var a=$object.create(),b=b?Object.getOwnPropertyNames(this):Object.keys(this),d=0;d<b.length;d++){var c=b[d];a[c]=this[c]}return a},copy:function(b,a,d,c){for(var e=0,f=arguments[e];e<arguments.length;f=arguments[++e])switch(typeof f){case "string":b=f;break;case "function":a=f.prototype;break;case "object":a=f;break;case "number":d=f;break;case "boolean":c=f}if("deepCopy"!=b||"deepClone"!=b)b=null;"undefined"==typeof a&&(a=$object);
f=this;"function"==typeof f&&Object.getOwnPropertyNames(f.prototype)&&(f=f.prototype);var h=Object.create(a),g=[];do g.push(f),f=Object.getPrototypeOf(f);while(d--&&f!=Object.prototype);g=g.reverse();for(e=0;e<g.length;e++){var f=g[e],i=Object.getOwnPropertyNames(f);!c&&(e&&i.length)&&(h=$object.apply(h,"clone"));for(var k=0;k<i.length;k++){var j=i[k],l=Object.getOwnPropertyDescriptor(f,j);b&&("object"==typeof f[j]&&null!==f[j])&&(l.value=$object[b].call(f[j]));Object.defineProperty(h,j,l)}}return h},
deepCopy:function deepCopy(){for(var a=arguments.length?$object.apply(this,"copy",arguments):$object.clone(),d=Object.getOwnPropertyNames(this),c=0;c<d.length;c++){var e=d[c],f=Object.getOwnPropertyDescriptor(this,e);"object"==typeof this[e]&&null!==this[e]&&(f.value=deepCopy.call(this[e]));Object.defineProperty(a,e,f)}return a},deepClone:function deepClone(a,d){for(var c=$object.apply(this,"clone",arguments),e=Object.getOwnPropertyNames(this),f=0;f<e.length;f++){var h=e[f];if("object"==typeof this[h]&&
null!==this[h]){var g=Object.getOwnPropertyDescriptor(this,h);g.value=deepClone.call(this[h]);Object.defineProperty(c,h,g)}}return c},paste:function(b,a){return $object.apply(b,"concat",[this,a])},concat:function(b,a){if(void 0==a)a=b.getOwnPropertyNames();else if("object"!=typeof a&&!0==a)for(var a=b.getOwnPropertyNames(),d=b;(d=Object.getPrototypeOf(d))!==Object.prototype;)a=a.concat(d.getOwnPropertyNames());d=b;do for(var c=0;c<a.length;c++){var e=a[c],f=Object.getOwnPropertyDescriptor(d,e);f&&
(Object.defineProperty(this,e,f),delete a[c])}while(a.length&&(d=Object.getPrototypeOf(d))!==Object.prototype);return this},apply:function(b,a,d,c){c?"function"==typeof c&&c.prototype&&(c=c.prototype):c="function"==typeof b[a]&&b[a].length==$object[a].length&&b||$object;return c[a].apply(b,d)},can:function(b,a){var d=this;return{valueOf:function(){return a^"function"==typeof d[b]},like:function(c){c=c[b];return this.valueOf()&&a^("function"==typeof c&&c.length==d[b].length)},as:function(c){return this.valueOf()&&
a^d[b]===c[b]}}},cant:function(b){return this.can(b,1)},getPrototypes:function(b,a){var d=[],c=this,e=a?"push":"unshift";for("undefined"==typeof b&&(b=$object);(c=Object.getPrototypeOf(c))!=b;)d[e](c);return d},forEach:function(b,a,d){if(d||"boolean"===typeof a&&!a)for(var d=Object.keys(this),c=0;c<d.length;c++)e=d[c],b.call(a,this[e],e,this);else for(var e in this)b.call(a,this[e],e,this)},every:function(b,a,d){if(d||"boolean"===typeof a&&!a)for(var d=Object.keys(this),c=0;c<d.length;c++){if(e=d[c],
!b.call(a,this[e],e,this))return!1}else for(var e in this)if(!b.call(a,this[e],e,this))return!1;return!0},some:function(b,a,d){if(d||"boolean"===typeof a&&!a)for(var d=Object.keys(this),c=0;c<d.length;c++){if(e=d[c],b.call(a,this[e],e,this))return!0}else for(var e in this)if(b.call(a,this[e],e,this))return!0;return!1},map:function(b,a,d,c){var e=$object.apply(c||$object,"clone");$object.forEach.call(this,function(a,c,d){a=b.call(this,a,c,d);"undefined"===typeof a?Object.defineProperty(e,c,{value:void 0}):
e[c]=a},a||e,d);return e},filter:function(b,a,d,c){var e=$object.apply(c||$object,"clone");$object.forEach.call(this,function(a,c,d){b.call(this,a,c,d)||Object.defineProperty(e,c,{value:void 0})},a||e,d);return e},getValues:function(b,a){return $object.getKeys.apply(this,arguments).map(function(a){return this[a]},this)},setValues:function(b,a,d){$object.getKeys.call(this,a,d).forEach(function(a,d){d in b&&(this[a]=b[d])})},getKeys:function(b,a){var b=void 0===b||Boolean(b),a=void 0===a||Boolean(a),
d=b&&a&&"keys"||b&&!a&&"getOwnPropertyNames";if(d)return Object[d](this);var c=[];!b&&a?$object.forEach.call(this,function(a,b){c.push(b)},!1):(c=Object.getOwnPropertyNames(this),$object.getPrototypes.call(this).forEach(function(a){c=c.concat(Object.getOwnPropertyNames(a))}));return c},getPrototype:function(){return Object.getPrototypeOf(this)},getOwnPropertyNames:function(){return Object.getOwnPropertyNames(this)},preventExtensions:function(){return Object.preventExtensions(this)},isExtensible:function(){return Object.isExtensible(this)},
seal:function(){return Object.seal(this)},isSealed:function(){return Object.isSealed(this)},freeze:function(){return Object.freeze(this)},isFrozen:function(){return Object.isFrozen(this)},getOwnPropertyDescriptor:function(b){return Object.getOwnPropertyDescriptor(this,b)},defineProperties:function(b,a){return Object.defineProperties(this,$object.describe.apply(null,arguments))},defineProperty:function(b,a){return Object.defineProperty(this,b,a)}};$object.defineProperties($object);
var ns={prototype:$object,extend:function(b,a,d){var c=this.prototype;if(!c.isPrototypeOf(a)){var e=b[0].toUpperCase()+b.substr(1);a.hasOwnProperty("constructor")?a.constructor.typeName=e:a.constructor=e;a=c.clone(a,d)}d=$object.clone.call(this,{prototype:a});this["$"+b]=a;return this[b]=d},put:function(b,a){function d(a,b,c){if(!(c in a)||a[c]!==b)return a.extend(c,b)}"string"!=typeof b&&(a=b,b=void 0);if(b){var c=this,e=b.split("."),f=e.pop();e.forEach(function(a){a in c||c.extend(a,{});c=c[a]});
return d(c,a,f)}e=a.getPrototypes();e.push(a);var h=this;e.forEach(function(a){f=a.constructor.typeName||a.constructor.name;f=f[0].toLowerCase()+f.substr(1);d(h,a,f);h=h[f]});return h}};"undefined"!=typeof module&&module.exports&&(module.exports=ns);
